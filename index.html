<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WHOSIDEA富裕團體服估價單</title>

<style>
*{
  box-sizing:border-box;
}

html,body{
  margin:0;
  padding:0;
  overflow-x:hidden;
  font-family:-apple-system, BlinkMacSystemFont, "PingFang TC", "Noto Sans TC";
  background:#f5f6f7;
}

.container{
  width:100%;
  padding:18px;
  background:#fff;
}

h1{
  text-align:center;
  margin-bottom:4px;
  font-size:24px;
}

.subtitle{
  text-align:center;
  color:#888;
  font-size:15px;
  margin-bottom:22px;
}

.section{
  margin-bottom:18px;
}

.section label{
  display:block;
  margin-bottom:8px;
  font-weight:600;
  font-size:16px;
}

select,
input[type="number"]{
  width:100%;
  padding:14px;
  border:1px solid #ccc;
  border-radius:6px;
  font-size:16px;
}

.price-box{
  border:2px dashed #f0c36d;
  background:#fff9e6;
  padding:18px;
  margin-top:24px;
  font-size:15px;
}

.price-line{
  display:flex;
  justify-content:space-between;
  gap:12px;
  margin-bottom:8px;
}

.price-line > *{
  min-width:0;
}

.total{
  font-size:24px;
  font-weight:bold;
  color:#c0392b;
  text-align:right;
}

.note{
  background:#fbeaea;
  color:#b03a2e;
  padding:12px;
  border-radius:6px;
  margin-top:18px;
  font-size:14px;
}

.date{
  text-align:center;
  color:#888;
  font-size:13px;
  margin-top:12px;
}

@media (min-width: 768px){
  body{
    display:flex;
    justify-content:center;
  }

  .container{
    width: 680px;
    margin: 40px 0;
    border-radius: 12px;
  }
}

</style>
</head>

<body>
<div class="container">
  <h1>WHOSIDEA富裕團體服估價單</h1>
  <div class="subtitle">專業報價系統</div>

  <div class="section">
    <label>1. 衣服款式</label>
    <select id="product">
      <option value="0">請選擇</option>
      <option value="145">短袖棉T</option>
      <option value="130">短袖排汗</option>
      <option value="195">長袖棉T</option>
      <option value="180">長袖排汗</option>
    </select>
    <div style="font-size:13px;color:#555;margin-top:6px;">單件價格：NT$ <span id="unitPrice">0</span></div>
    <div id="productNote" style="font-size:12px;color:#777;margin-top:4px;"></div>
  </div>

  <div class="section">
    <label>數量</label>
    <input id="quantity" type="number" list="quantity-options" placeholder="請輸入或選擇數量" min="1" disabled />
  </div>
  <datalist id="quantity-options">
    <option value="100">
    <option value="200">
    <option value="300">
  </datalist>

  <div class="section">
    <label>2. 印刷大約想要幾色</label>
    <select id="height">
      <option value="0">請選擇</option>
      <option value="600">單色</option>
      <option value="1200">雙色</option>
    </select>
  </div>

  <div class="section">
    <label>3. 需要設計嗎</label>
    <select id="width">
      <option value="0">請選擇</option>
      <option value="0">不需要</option>
      <option value="2000">需要</option>
    </select>
  </div>

  <div class="section">
    <label>4. 配件</label>
    <select id="top">
      <option value="0">無</option>
      <option value="35">+口袋</option>
    </select>
  </div>

  <div class="price-box">
    <div class="price-line"><span>衣服小計：</span><span id="mainPrice">0</span></div>
    <div class="price-line"><span>配件小計：</span><span id="topPrice">0</span></div>
    <div class="price-line"><span>版費：</span><span id="printPrice">0</span></div>
    <div class="price-line"><span>設計費：</span><span id="designPrice">0</span></div>
    <div id="formula" style="font-size:12px;color:#777;margin-top:6px;"></div>
    <hr>
    <div class="total">NT$ <span id="total">0</span></div>
  </div>

  <div class="note">備註：以上報價為未稅價格，不包含運送費用</div>
  <div class="date" id="date"></div>
</div>

<script>
const product = document.getElementById("product");
const height = document.getElementById("height"); // 版費
const width = document.getElementById("width");   // 設計費
const topSel = document.getElementById("top");    // 配件
const quantity = document.getElementById("quantity");

const unitPriceEl = document.getElementById("unitPrice");
const productNoteEl = document.getElementById("productNote");
const formulaEl = document.getElementById("formula");
const mainPriceEl = document.getElementById("mainPrice");
const topPriceEl = document.getElementById("topPrice");
const printPriceEl = document.getElementById("printPrice");
const designPriceEl = document.getElementById("designPrice");
const totalEl = document.getElementById("total");

const productNotes = {
  145: "厚磅棉T，適合活動、品牌形象",
  130: "排汗材質，適合運動、戶外",
  195: "長袖棉T，秋冬熱銷款",
  180: "長袖排汗，適合團體活動"
};

function getUnitPrice(basePrice, qty) { return basePrice; }

function calc() {
  const basePrice = Number(product.value);
  const qty = Number(quantity.value) || 0;

  if(!basePrice){
    quantity.disabled=true; quantity.value="";
    unitPriceEl.innerText=0; productNoteEl.innerText="";
    formulaEl.innerText=""; mainPriceEl.innerText=0;
    topPriceEl.innerText=0; printPriceEl.innerText=0;
    designPriceEl.innerText=0; totalEl.innerText=0;
    return;
  }

  quantity.disabled=false; quantity.placeholder="請輸入數量";

  const unitPrice = getUnitPrice(basePrice, qty);
  unitPriceEl.innerText = unitPrice;
  productNoteEl.innerText = productNotes[basePrice] || "";

  const clothesTotal = unitPrice * qty;
  const topP = Number(topSel.value) * qty;  // 配件小計
  const printP = Number(height.value);      // 版費固定
  const designP = Number(width.value);      // 設計費固定

  const total = clothesTotal + topP + printP + designP;

  mainPriceEl.innerText = clothesTotal.toLocaleString();
  topPriceEl.innerText = topP.toLocaleString();
  printPriceEl.innerText = printP.toLocaleString();
  designPriceEl.innerText = designP.toLocaleString();
  totalEl.innerText = total.toLocaleString();

  if(qty>0){
    formulaEl.innerText = 
      `衣服: ${unitPrice} × ${qty} = ${clothesTotal.toLocaleString()}, `+
      `配件: ${topSel.value} × ${qty} = ${topP.toLocaleString()}, `+
      `版費: ${printP.toLocaleString()}, 設計費: ${designP.toLocaleString()}`;
  } else {
    formulaEl.innerText="";
  }
}

document.querySelectorAll("#product,#height,#width,#top").forEach(el=>el.addEventListener("change",calc));
quantity.addEventListener("input",calc);

document.getElementById("date").innerText="報價日期："+new Date().toLocaleString("zh-TW");
</script>
</body>
</html>
